{"@t":"2025-02-25T14:40:14.0734207Z","@mt":"Now listening on: {address}","address":"http://localhost:5139","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:40:14.0998276Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:40:14.1009995Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:40:14.1020208Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:40:58.0829929Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"4aa963f6016b74286dab489af4f2de25","@sp":"b321846808b3909c","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNALL9LC782P:00000001","RequestPath":"/api/test/test","ConnectionId":"0HNALL9LC782P"}
{"@t":"2025-02-25T14:40:58.1115664Z","@mt":"TestController Get() called","@tr":"4aa963f6016b74286dab489af4f2de25","@sp":"b321846808b3909c","SourceContext":"水水水果.Controllers.TestController","ActionId":"544d24fc-096a-431e-a6b5-79afad3ab120","ActionName":"水水水果.Controllers.TestController.Get (水水水果API)","RequestId":"0HNALL9LC782P:00000001","RequestPath":"/api/test/test","ConnectionId":"0HNALL9LC782P"}
{"@t":"2025-02-25T14:40:58.1131480Z","@mt":"Test Identity : {name}","@tr":"4aa963f6016b74286dab489af4f2de25","@sp":"b321846808b3909c","name":null,"SourceContext":"水水水果.Controllers.TestController","ActionId":"544d24fc-096a-431e-a6b5-79afad3ab120","ActionName":"水水水果.Controllers.TestController.Get (水水水果API)","RequestId":"0HNALL9LC782P:00000001","RequestPath":"/api/test/test","ConnectionId":"0HNALL9LC782P"}
{"@t":"2025-02-25T14:40:58.1150118Z","@mt":"_options Value: Hello World","@tr":"4aa963f6016b74286dab489af4f2de25","@sp":"b321846808b3909c","SourceContext":"水水水果.Controllers.TestController","ActionId":"544d24fc-096a-431e-a6b5-79afad3ab120","ActionName":"水水水果.Controllers.TestController.Get (水水水果API)","RequestId":"0HNALL9LC782P:00000001","RequestPath":"/api/test/test","ConnectionId":"0HNALL9LC782P"}
{"@t":"2025-02-25T14:40:58.1178192Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["36.1867"],"@tr":"4aa963f6016b74286dab489af4f2de25","@sp":"b321846808b3909c","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"GET","RequestPath":"/api/test/test","StatusCode":200,"Elapsed":36.1867,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNALL9LC782P:00000001","ConnectionId":"0HNALL9LC782P"}
{"@t":"2025-02-25T14:41:03.5861879Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["16.2605"],"@tr":"cb9ca4a24985f13a63b7762adb7ccfe6","@sp":"42b4716c6451cea3","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"GET","RequestPath":"/api/test/claim","StatusCode":401,"Elapsed":16.2605,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNALL9LC782Q:00000001","ConnectionId":"0HNALL9LC782Q"}
{"@t":"2025-02-25T14:41:21.0943831Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["187.2097"],"@tr":"ef0c109371dc1efdfa4d79737bf885fa","@sp":"86cc6ae57be8552b","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"GET","RequestPath":"/api/Recipient","StatusCode":401,"Elapsed":187.2097,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNALL9LC782R:00000001","ConnectionId":"0HNALL9LC782R"}
{"@t":"2025-02-25T14:42:20.6943250Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2308.2864"],"@l":"Error","@x":"MySql.Data.MySqlClient.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts\r\n ---> System.Net.Sockets.SocketException (10061): 無法連線，因為目標電腦拒絕連線。\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\r\n   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Net.Sockets.TcpClient.CompleteConnectAsync(Task task)\r\n   at MySql.Data.MySqlClient.NativeDriver.<>c.<OpenAsync>b__38_0(Exception ex)\r\n   at System.AggregateException.Handle(Func`2 predicate)\r\n   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.Driver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlPool.GetPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlPool.TryToGetDriverAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlPool.GetConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlConnection.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlConnection.Open()\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1276\r\n   at Dapper.SqlMapper.QuerySingle[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 878\r\n   at 水水水果API.Repositories.MemberRepository.GetMemberByLogin(MemberDTO member) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Repositories\\MemberRepository.cs:line 40\r\n   at 水水水果API.Services.AuthService.GetUser(LoginDTO login) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Services\\AuthService.cs:line 24\r\n   at 水水水果API.Services.AuthService.Login(LoginDTO login) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Services\\AuthService.cs:line 12\r\n   at 水水水果API.Controllers.AuthController.Login(LoginDTO login) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Controllers\\AuthController.cs:line 19\r\n   at lambda_method4(Closure, Object, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"a6d3b66f2eec25bcb76d5be4adc83e21","@sp":"1feafef90591d2a6","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/Auth/login","StatusCode":500,"Elapsed":2308.2864,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNALL9LC782S:00000001","ConnectionId":"0HNALL9LC782S"}
{"@t":"2025-02-25T14:42:20.7176569Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"MySql.Data.MySqlClient.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts\r\n ---> System.Net.Sockets.SocketException (10061): 無法連線，因為目標電腦拒絕連線。\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\r\n   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Net.Sockets.TcpClient.CompleteConnectAsync(Task task)\r\n   at MySql.Data.MySqlClient.NativeDriver.<>c.<OpenAsync>b__38_0(Exception ex)\r\n   at System.AggregateException.Handle(Func`2 predicate)\r\n   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.Driver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlPool.GetPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlPool.TryToGetDriverAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlPool.GetConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlConnection.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlConnection.Open()\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1276\r\n   at Dapper.SqlMapper.QuerySingle[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 878\r\n   at 水水水果API.Repositories.MemberRepository.GetMemberByLogin(MemberDTO member) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Repositories\\MemberRepository.cs:line 40\r\n   at 水水水果API.Services.AuthService.GetUser(LoginDTO login) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Services\\AuthService.cs:line 24\r\n   at 水水水果API.Services.AuthService.Login(LoginDTO login) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Services\\AuthService.cs:line 12\r\n   at 水水水果API.Controllers.AuthController.Login(LoginDTO login) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Controllers\\AuthController.cs:line 19\r\n   at lambda_method4(Closure, Object, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"a6d3b66f2eec25bcb76d5be4adc83e21","@sp":"1feafef90591d2a6","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNALL9LC782S:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNALL9LC782S"}
{"@t":"2025-02-25T14:43:15.6116740Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:43:22.0335059Z","@mt":"Now listening on: {address}","address":"http://localhost:5139","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:43:22.0622554Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:43:22.0635807Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:43:22.0646481Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-02-25T14:43:37.0119552Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"69733108427b4f4c2e12697e9d4ebca5","@sp":"ab34603d32f12540","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNALLB4NUA8M:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNALLB4NUA8M"}
{"@t":"2025-02-25T14:43:37.4440177Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["432.7284"],"@tr":"69733108427b4f4c2e12697e9d4ebca5","@sp":"ab34603d32f12540","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/Auth/login","StatusCode":200,"Elapsed":432.7284,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNALLB4NUA8M:00000001","ConnectionId":"0HNALLB4NUA8M"}
{"@t":"2025-02-25T14:43:42.7839593Z","@mt":"TestController Get() called","@tr":"a95463ca734510ba49db9e25f8aacd72","@sp":"032514cc4d462482","SourceContext":"水水水果.Controllers.TestController","ActionId":"0d1db4e2-991c-4cec-9efb-dcae445d039a","ActionName":"水水水果.Controllers.TestController.Get (水水水果API)","RequestId":"0HNALLB4NUA8M:00000002","RequestPath":"/api/test/test","ConnectionId":"0HNALLB4NUA8M"}
{"@t":"2025-02-25T14:43:42.7851379Z","@mt":"Test Identity : {name}","@tr":"a95463ca734510ba49db9e25f8aacd72","@sp":"032514cc4d462482","name":null,"SourceContext":"水水水果.Controllers.TestController","ActionId":"0d1db4e2-991c-4cec-9efb-dcae445d039a","ActionName":"水水水果.Controllers.TestController.Get (水水水果API)","RequestId":"0HNALLB4NUA8M:00000002","RequestPath":"/api/test/test","ConnectionId":"0HNALLB4NUA8M"}
{"@t":"2025-02-25T14:43:42.7859607Z","@mt":"_options Value: Hello World","@tr":"a95463ca734510ba49db9e25f8aacd72","@sp":"032514cc4d462482","SourceContext":"水水水果.Controllers.TestController","ActionId":"0d1db4e2-991c-4cec-9efb-dcae445d039a","ActionName":"水水水果.Controllers.TestController.Get (水水水果API)","RequestId":"0HNALLB4NUA8M:00000002","RequestPath":"/api/test/test","ConnectionId":"0HNALLB4NUA8M"}
{"@t":"2025-02-25T14:43:42.7867589Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["6.5885"],"@tr":"a95463ca734510ba49db9e25f8aacd72","@sp":"032514cc4d462482","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"GET","RequestPath":"/api/test/test","StatusCode":200,"Elapsed":6.5885,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNALLB4NUA8M:00000002","ConnectionId":"0HNALLB4NUA8M"}
