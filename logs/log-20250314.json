{"@t":"2025-03-13T16:06:00.2883577Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.6683"],"@tr":"8b7a11b3786c547356c0a666a75dc2a0","@sp":"35a6e0ea10be6bb3","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":401,"Elapsed":4.6683,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB28TVESSED:00000001","ConnectionId":"0HNB28TVESSED"}
{"@t":"2025-03-13T16:07:41.5672237Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.5871"],"@tr":"1ae75c549f35874318304c10aaa233bd","@sp":"14a9ff750f07375d","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":401,"Elapsed":0.5871,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB28TVESSEF:00000001","ConnectionId":"0HNB28TVESSEF"}
{"@t":"2025-03-13T16:07:49.4036853Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["22.6687"],"@tr":"c07b222b3d725f71e00d98e3d6e43e9d","@sp":"64b8cfb1d63c377b","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":400,"Elapsed":22.6687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB28TVESSEF:00000002","ConnectionId":"0HNB28TVESSEF"}
{"@t":"2025-03-13T16:23:34.4796962Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:23:42.3351068Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:23:50.1546259Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:23:57.7330368Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:24:05.4298961Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:25:16.5622965Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:25:24.1630650Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:25:31.7850418Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:25:39.4914948Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:25:47.2977118Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:25:55.2854966Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:26:03.0846825Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:26:10.8972730Z","@mt":"Application start-up failed","@l":"Fatal","@x":"System.InvalidOperationException: Action '水水水果.Controllers.CouponController.MemberPost (水水水果API)' has more than one parameter that was specified or inferred as bound from request body. Only one parameter per action may be bound from body. Inspect the following parameters, and use 'FromQueryAttribute' to specify bound from query, 'FromRouteAttribute' to specify bound from route, and 'FromBodyAttribute' for parameters to be bound from body:\r\nstring Code\r\nGuid id\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.InferParameterBindingInfoConvention.InferParameterBindingSources(ActionModel action)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApiBehaviorApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ApplicationModelFactory.CreateApplicationModel(IEnumerable`1 controllerTypes)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.GetDescriptors()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationModels.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.GetChangeToken()\r\n   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1..ctor(Func`1 changeTokenProducer, Action`1 changeTokenConsumer, TState state)\r\n   at Microsoft.Extensions.Primitives.ChangeToken.OnChange(Func`1 changeTokenProducer, Action changeTokenConsumer)\r\n   at Microsoft.AspNetCore.Mvc.Routing.ActionEndpointDataSourceBase.Subscribe()\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.GetOrCreateDataSource(IEndpointRouteBuilder endpoints)\r\n   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Program.cs:line 95"}
{"@t":"2025-03-13T16:26:39.6952356Z","@mt":"Now listening on: {address}","address":"http://localhost:5139","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:26:39.7246281Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:26:39.7259640Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:26:39.7274002Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:27:33.8492025Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"c5830d32ea25cff26db2f9301c8a2ae0","@sp":"78655b7ec9e4f407","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNB29FQOP4EL:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:27:34.3026818Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["454.0854"],"@tr":"c5830d32ea25cff26db2f9301c8a2ae0","@sp":"78655b7ec9e4f407","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/Auth/login","StatusCode":200,"Elapsed":454.0854,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29FQOP4EL:00000001","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:27:41.3347909Z","@mt":"Code: {0}","@tr":"ad1f5127a0cb47dc4a347d8ec2541d85","@sp":"4da13e499168fbc8","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"629001fb-09d8-469b-93c2-094fdf3acc99","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EL:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:27:41.3467703Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["47.8587"],"@tr":"ad1f5127a0cb47dc4a347d8ec2541d85","@sp":"4da13e499168fbc8","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":200,"Elapsed":47.8587,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29FQOP4EL:00000002","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:28:06.9750997Z","@mt":"Code: {0}","@tr":"caa815b1c4072bf69aaf51dee36684df","@sp":"3df20317a7c88a19","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"629001fb-09d8-469b-93c2-094fdf3acc99","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EL:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:28:06.9810182Z","@mt":"result: {0}","@tr":"caa815b1c4072bf69aaf51dee36684df","@sp":"3df20317a7c88a19","0":"水水水果API.Models.Coupon","SourceContext":"水水水果.Controllers.CouponController","ActionId":"629001fb-09d8-469b-93c2-094fdf3acc99","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EL:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:28:06.9831326Z","@mt":"Start Register","@tr":"caa815b1c4072bf69aaf51dee36684df","@sp":"3df20317a7c88a19","SourceContext":"水水水果API.Services.CouponService","ActionId":"629001fb-09d8-469b-93c2-094fdf3acc99","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EL:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:28:06.9887527Z","@mt":"result: {0}","@tr":"caa815b1c4072bf69aaf51dee36684df","@sp":"3df20317a7c88a19","0":"水水水果API.Models.Coupon","SourceContext":"水水水果API.Services.CouponService","ActionId":"629001fb-09d8-469b-93c2-094fdf3acc99","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EL:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:28:06.9907863Z","@mt":"memberIdClaim: {0}","@tr":"caa815b1c4072bf69aaf51dee36684df","@sp":"3df20317a7c88a19","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"629001fb-09d8-469b-93c2-094fdf3acc99","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EL:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:28:06.9929554Z","@mt":"{sql}","@tr":"caa815b1c4072bf69aaf51dee36684df","@sp":"3df20317a7c88a19","sql":"INSERT INTO membercoupon (coupon_id,member_id) VALUES (@couponId,@memberId)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"629001fb-09d8-469b-93c2-094fdf3acc99","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EL:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:28:07.0039123Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingle[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 878\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(Guid memberId, Coupon couponId) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Repositories\\CouponRepository.cs:line 43\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Services\\CouponService.cs:line 77\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Controllers\\CouponController.cs:line 53","@tr":"caa815b1c4072bf69aaf51dee36684df","@sp":"3df20317a7c88a19","SourceContext":"水水水果.Controllers.CouponController","ActionId":"629001fb-09d8-469b-93c2-094fdf3acc99","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EL:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:28:07.0217321Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["50.6005"],"@l":"Error","@tr":"caa815b1c4072bf69aaf51dee36684df","@sp":"3df20317a7c88a19","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":50.6005,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29FQOP4EL:00000003","ConnectionId":"0HNB29FQOP4EL"}
{"@t":"2025-03-13T16:30:05.5618592Z","@mt":"Code: {0}","@tr":"8a056ee577bbf38418c41d43122cb645","@sp":"70f5358b311ee66f","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"58ad1a9c-66e2-40b2-a94c-15a8d2e5e520","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EN:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EN"}
{"@t":"2025-03-13T16:30:05.5655262Z","@mt":"result: {0}","@tr":"8a056ee577bbf38418c41d43122cb645","@sp":"70f5358b311ee66f","0":"水水水果API.Models.Coupon","SourceContext":"水水水果.Controllers.CouponController","ActionId":"58ad1a9c-66e2-40b2-a94c-15a8d2e5e520","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EN:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EN"}
{"@t":"2025-03-13T16:30:05.5668050Z","@mt":"Start Register","@tr":"8a056ee577bbf38418c41d43122cb645","@sp":"70f5358b311ee66f","SourceContext":"水水水果API.Services.CouponService","ActionId":"58ad1a9c-66e2-40b2-a94c-15a8d2e5e520","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EN:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EN"}
{"@t":"2025-03-13T16:30:05.5692194Z","@mt":"result: {0}","@tr":"8a056ee577bbf38418c41d43122cb645","@sp":"70f5358b311ee66f","0":"aa8051bf-8a02-472e-b9d8-c6c59e84e253","SourceContext":"水水水果API.Services.CouponService","ActionId":"58ad1a9c-66e2-40b2-a94c-15a8d2e5e520","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EN:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EN"}
{"@t":"2025-03-13T16:30:05.5704738Z","@mt":"memberIdClaim: {0}","@tr":"8a056ee577bbf38418c41d43122cb645","@sp":"70f5358b311ee66f","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"58ad1a9c-66e2-40b2-a94c-15a8d2e5e520","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EN:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EN"}
{"@t":"2025-03-13T16:30:05.5714049Z","@mt":"{sql}","@tr":"8a056ee577bbf38418c41d43122cb645","@sp":"70f5358b311ee66f","sql":"INSERT INTO membercoupon (coupon_id,member_id) VALUES (@couponId,@memberId)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"58ad1a9c-66e2-40b2-a94c-15a8d2e5e520","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EN:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EN"}
{"@t":"2025-03-13T16:30:05.5742565Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingleOrDefault[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 899\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(Guid memberId, Coupon couponId)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"8a056ee577bbf38418c41d43122cb645","@sp":"70f5358b311ee66f","SourceContext":"水水水果.Controllers.CouponController","ActionId":"58ad1a9c-66e2-40b2-a94c-15a8d2e5e520","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29FQOP4EN:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29FQOP4EN"}
{"@t":"2025-03-13T16:30:05.5794827Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["22.4898"],"@l":"Error","@tr":"8a056ee577bbf38418c41d43122cb645","@sp":"70f5358b311ee66f","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":22.4898,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29FQOP4EN:00000001","ConnectionId":"0HNB29FQOP4EN"}
{"@t":"2025-03-13T16:44:02.3232412Z","@mt":"Now listening on: {address}","address":"http://localhost:5139","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:44:02.3523535Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:44:02.3534757Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:44:02.3546512Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:46:40.9717296Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"fb2599e22925ee21cafd59f8e23fc74f","@sp":"be0c57003dfd41eb","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNB29QGKKKVO:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:41.1739623Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["202.9774"],"@tr":"fb2599e22925ee21cafd59f8e23fc74f","@sp":"be0c57003dfd41eb","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":401,"Elapsed":202.9774,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29QGKKKVO:00000001","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:46.4090261Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["243.9540"],"@tr":"855e87d4e89e85f0de86878eaf35cb33","@sp":"4ccf5550b2ff6152","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/Auth/login","StatusCode":200,"Elapsed":243.954,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29QGKKKVO:00000002","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:56.5195298Z","@mt":"Code: {0}","@tr":"ac81900ceedd9503e0caaa47c6aa7aa3","@sp":"cc4f1957b375a927","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"142b6949-9be2-408a-a7e9-414283d2bbd2","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29QGKKKVO:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:56.5283257Z","@mt":"result: {0}","@tr":"ac81900ceedd9503e0caaa47c6aa7aa3","@sp":"cc4f1957b375a927","0":"水水水果API.Models.Coupon","SourceContext":"水水水果.Controllers.CouponController","ActionId":"142b6949-9be2-408a-a7e9-414283d2bbd2","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29QGKKKVO:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:56.5298603Z","@mt":"Start Register","@tr":"ac81900ceedd9503e0caaa47c6aa7aa3","@sp":"cc4f1957b375a927","SourceContext":"水水水果API.Services.CouponService","ActionId":"142b6949-9be2-408a-a7e9-414283d2bbd2","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29QGKKKVO:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:56.5339512Z","@mt":"result: {0}","@tr":"ac81900ceedd9503e0caaa47c6aa7aa3","@sp":"cc4f1957b375a927","0":"aa8051bf-8a02-472e-b9d8-c6c59e84e253","SourceContext":"水水水果API.Services.CouponService","ActionId":"142b6949-9be2-408a-a7e9-414283d2bbd2","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29QGKKKVO:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:56.5357346Z","@mt":"memberIdClaim: {0}","@tr":"ac81900ceedd9503e0caaa47c6aa7aa3","@sp":"cc4f1957b375a927","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"142b6949-9be2-408a-a7e9-414283d2bbd2","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29QGKKKVO:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:56.5394513Z","@mt":"Error registering member code","@l":"Error","@x":"System.TypeLoadException: Could not load type '水水水果API.ExtensionMethod.DapperHelperExtensions' from assembly '水水水果API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' due to value type mismatch.\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon couponId)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"ac81900ceedd9503e0caaa47c6aa7aa3","@sp":"cc4f1957b375a927","SourceContext":"水水水果.Controllers.CouponController","ActionId":"142b6949-9be2-408a-a7e9-414283d2bbd2","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29QGKKKVO:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:46:56.5486676Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["45.8594"],"@l":"Error","@tr":"ac81900ceedd9503e0caaa47c6aa7aa3","@sp":"cc4f1957b375a927","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":45.8594,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29QGKKKVO:00000003","ConnectionId":"0HNB29QGKKKVO"}
{"@t":"2025-03-13T16:49:15.8353617Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:49:27.2479927Z","@mt":"Now listening on: {address}","address":"http://localhost:5139","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:49:27.2881147Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:49:27.2896864Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:49:27.2915668Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:49:38.2356047Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"a6e8a23b8fc9082985b7669fb8ac785e","@sp":"5e276ff16cf42776","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNB29S5F3KB3:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:38.7226644Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["487.8731"],"@tr":"a6e8a23b8fc9082985b7669fb8ac785e","@sp":"5e276ff16cf42776","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/Auth/login","StatusCode":200,"Elapsed":487.8731,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29S5F3KB3:00000001","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:46.2983936Z","@mt":"Code: {0}","@tr":"c1f96644e8b8acac385c5406acc60986","@sp":"07d9c94e46929fb5","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"47aea630-9125-4c3f-9b36-26a67e8023be","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29S5F3KB3:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:46.3066407Z","@mt":"result: {0}","@tr":"c1f96644e8b8acac385c5406acc60986","@sp":"07d9c94e46929fb5","0":"水水水果API.Models.Coupon","SourceContext":"水水水果.Controllers.CouponController","ActionId":"47aea630-9125-4c3f-9b36-26a67e8023be","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29S5F3KB3:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:46.3081848Z","@mt":"Start Register","@tr":"c1f96644e8b8acac385c5406acc60986","@sp":"07d9c94e46929fb5","SourceContext":"水水水果API.Services.CouponService","ActionId":"47aea630-9125-4c3f-9b36-26a67e8023be","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29S5F3KB3:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:46.3124202Z","@mt":"result: {0}","@tr":"c1f96644e8b8acac385c5406acc60986","@sp":"07d9c94e46929fb5","0":"aa8051bf-8a02-472e-b9d8-c6c59e84e253","SourceContext":"水水水果API.Services.CouponService","ActionId":"47aea630-9125-4c3f-9b36-26a67e8023be","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29S5F3KB3:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:46.3141398Z","@mt":"memberIdClaim: {0}","@tr":"c1f96644e8b8acac385c5406acc60986","@sp":"07d9c94e46929fb5","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"47aea630-9125-4c3f-9b36-26a67e8023be","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29S5F3KB3:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:46.3158325Z","@mt":"{sql}","@tr":"c1f96644e8b8acac385c5406acc60986","@sp":"07d9c94e46929fb5","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@expired_at,@is_used)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"47aea630-9125-4c3f-9b36-26a67e8023be","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29S5F3KB3:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:46.3264610Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingleOrDefault[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 899\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon couponId) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Repositories\\CouponRepository.cs:line 43\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Services\\CouponService.cs:line 77\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Controllers\\CouponController.cs:line 53","@tr":"c1f96644e8b8acac385c5406acc60986","@sp":"07d9c94e46929fb5","SourceContext":"水水水果.Controllers.CouponController","ActionId":"47aea630-9125-4c3f-9b36-26a67e8023be","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29S5F3KB3:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:49:46.3486573Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["87.8613"],"@l":"Error","@tr":"c1f96644e8b8acac385c5406acc60986","@sp":"07d9c94e46929fb5","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":87.8613,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29S5F3KB3:00000002","ConnectionId":"0HNB29S5F3KB3"}
{"@t":"2025-03-13T16:50:55.6800047Z","@mt":"Now listening on: {address}","address":"http://localhost:5139","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:50:55.7099950Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:50:55.7111025Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:50:55.7121919Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:50:59.2361199Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"00a3a474ce4b972780cc5c64bd918766","@sp":"725fbb1a2d4538d6","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNB29STJJELB:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:50:59.7251667Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["489.8516"],"@tr":"00a3a474ce4b972780cc5c64bd918766","@sp":"725fbb1a2d4538d6","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/Auth/login","StatusCode":200,"Elapsed":489.8516,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29STJJELB:00000001","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6020278Z","@mt":"Code: {0}","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"02a86002-08b2-4fbe-b301-2824989438ab","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELB:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6094193Z","@mt":"result: {0}","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","0":"水水水果API.Models.Coupon","SourceContext":"水水水果.Controllers.CouponController","ActionId":"02a86002-08b2-4fbe-b301-2824989438ab","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELB:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6107500Z","@mt":"Start Register","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","SourceContext":"水水水果API.Services.CouponService","ActionId":"02a86002-08b2-4fbe-b301-2824989438ab","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELB:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6145141Z","@mt":"result: {0}","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","0":"aa8051bf-8a02-472e-b9d8-c6c59e84e253","SourceContext":"水水水果API.Services.CouponService","ActionId":"02a86002-08b2-4fbe-b301-2824989438ab","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELB:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6160477Z","@mt":"memberIdClaim: {0}","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"02a86002-08b2-4fbe-b301-2824989438ab","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELB:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6178165Z","@mt":"{sql}","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@expired_at,@is_used)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"02a86002-08b2-4fbe-b301-2824989438ab","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELB:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6205865Z","@mt":"{couponId}","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","couponId":"MemberCoupon { Id = 00000000-0000-0000-0000-000000000000, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 0001/1/1 上午 12:00:00, IsUsed = True, IssuedAt = 0001/1/1 上午 12:00:00 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"02a86002-08b2-4fbe-b301-2824989438ab","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELB:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6301327Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingleOrDefault[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 899\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon couponId) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Repositories\\CouponRepository.cs:line 44\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Services\\CouponService.cs:line 77\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Controllers\\CouponController.cs:line 53","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","SourceContext":"水水水果.Controllers.CouponController","ActionId":"02a86002-08b2-4fbe-b301-2824989438ab","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELB:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:51:06.6516609Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["86.9922"],"@l":"Error","@tr":"8c326bddbda67445fb91b24e721b6641","@sp":"97f03b2c56cba939","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":86.9922,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29STJJELB:00000002","ConnectionId":"0HNB29STJJELB"}
{"@t":"2025-03-13T16:53:08.5761126Z","@mt":"Code: {0}","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"49784188-e902-496e-929d-4d9ecf2631f0","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELD:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:53:08.5814054Z","@mt":"result: {0}","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","0":"水水水果API.Models.Coupon","SourceContext":"水水水果.Controllers.CouponController","ActionId":"49784188-e902-496e-929d-4d9ecf2631f0","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELD:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:53:08.5825469Z","@mt":"Start Register","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","SourceContext":"水水水果API.Services.CouponService","ActionId":"49784188-e902-496e-929d-4d9ecf2631f0","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELD:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:53:08.5863208Z","@mt":"result: {0}","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","0":"aa8051bf-8a02-472e-b9d8-c6c59e84e253","SourceContext":"水水水果API.Services.CouponService","ActionId":"49784188-e902-496e-929d-4d9ecf2631f0","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELD:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:53:08.5876410Z","@mt":"memberIdClaim: {0}","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"49784188-e902-496e-929d-4d9ecf2631f0","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELD:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:53:08.5888234Z","@mt":"{sql}","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@expired_at,@is_used)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"49784188-e902-496e-929d-4d9ecf2631f0","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELD:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:53:08.5901991Z","@mt":"{couponId}","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","couponId":"MemberCoupon { Id = 00000000-0000-0000-0000-000000000000, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 0001/1/1 上午 12:00:00 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"49784188-e902-496e-929d-4d9ecf2631f0","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELD:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:53:08.5934995Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingleOrDefault[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 899\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon couponId)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","SourceContext":"水水水果.Controllers.CouponController","ActionId":"49784188-e902-496e-929d-4d9ecf2631f0","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29STJJELD:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:53:08.5995583Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["28.5568"],"@l":"Error","@tr":"043f6cbacc218cf501d88a0fe16558e2","@sp":"b8eef98425494fcd","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":28.5568,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29STJJELD:00000001","ConnectionId":"0HNB29STJJELD"}
{"@t":"2025-03-13T16:54:36.5571149Z","@mt":"Now listening on: {address}","address":"http://localhost:5139","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:54:36.5859620Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:54:36.5874741Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:54:36.5887462Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-03-13T16:54:44.8594298Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.1348349Z","@mt":"Code: {0}","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"aaab3b42-3491-4b8a-931c-d8fa6ff3a8d6","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.3102019Z","@mt":"result: {0}","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果.Controllers.CouponController","ActionId":"aaab3b42-3491-4b8a-931c-d8fa6ff3a8d6","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.3119454Z","@mt":"Start Register","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","SourceContext":"水水水果API.Services.CouponService","ActionId":"aaab3b42-3491-4b8a-931c-d8fa6ff3a8d6","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.3170877Z","@mt":"result: {0}","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果API.Services.CouponService","ActionId":"aaab3b42-3491-4b8a-931c-d8fa6ff3a8d6","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.3185206Z","@mt":"memberIdClaim: {0}","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"aaab3b42-3491-4b8a-931c-d8fa6ff3a8d6","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.3199313Z","@mt":"{sql}","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@expired_at,@is_used)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"aaab3b42-3491-4b8a-931c-d8fa6ff3a8d6","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.3219068Z","@mt":"{couponId}","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","couponId":"MemberCoupon { Id = 00000000-0000-0000-0000-000000000000, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 0001/1/1 上午 12:00:00 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"aaab3b42-3491-4b8a-931c-d8fa6ff3a8d6","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.3332509Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingleOrDefault[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 899\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon couponId) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Repositories\\CouponRepository.cs:line 44\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Services\\CouponService.cs:line 77\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO) in C:\\Users\\qazxc\\OneDrive\\桌面\\FruitStoreWebsite\\水水水果API\\Controllers\\CouponController.cs:line 53","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","SourceContext":"水水水果.Controllers.CouponController","ActionId":"aaab3b42-3491-4b8a-931c-d8fa6ff3a8d6","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G4:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:54:45.3663407Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["507.7837"],"@l":"Error","@tr":"a6b0635abc8f8a8d0fcdaf4330321d07","@sp":"32ae492017430c36","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":507.7837,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29V0RA3G4:00000001","ConnectionId":"0HNB29V0RA3G4"}
{"@t":"2025-03-13T16:56:37.4010185Z","@mt":"Code: {0}","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"a7b641d6-f318-4064-829e-12a20e6f3e4d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:56:37.4048438Z","@mt":"result: {0}","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果.Controllers.CouponController","ActionId":"a7b641d6-f318-4064-829e-12a20e6f3e4d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:56:37.4058701Z","@mt":"Start Register","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","SourceContext":"水水水果API.Services.CouponService","ActionId":"a7b641d6-f318-4064-829e-12a20e6f3e4d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:56:37.4095061Z","@mt":"result: {0}","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果API.Services.CouponService","ActionId":"a7b641d6-f318-4064-829e-12a20e6f3e4d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:56:37.4104547Z","@mt":"memberIdClaim: {0}","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"a7b641d6-f318-4064-829e-12a20e6f3e4d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:56:37.4113909Z","@mt":"{sql}","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@expired_at,@is_used)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"a7b641d6-f318-4064-829e-12a20e6f3e4d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:56:37.4122329Z","@mt":"{couponId}","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","couponId":"MemberCoupon { Id = 00000000-0000-0000-0000-000000000000, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 0001/1/1 上午 12:00:00 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"a7b641d6-f318-4064-829e-12a20e6f3e4d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:56:37.4153644Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingleOrDefault[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 899\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon memberCoupon)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","SourceContext":"水水水果.Controllers.CouponController","ActionId":"a7b641d6-f318-4064-829e-12a20e6f3e4d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:56:37.4206700Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["25.6258"],"@l":"Error","@tr":"c68a62668f005d365cb2bd791c897521","@sp":"77ddce84958a0b4e","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":25.6258,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29V0RA3G6:00000001","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1240008Z","@mt":"Code: {0}","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"cb96180b-01c4-4be2-989b-3bf34e79e854","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1273045Z","@mt":"result: {0}","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果.Controllers.CouponController","ActionId":"cb96180b-01c4-4be2-989b-3bf34e79e854","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1283713Z","@mt":"Start Register","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","SourceContext":"水水水果API.Services.CouponService","ActionId":"cb96180b-01c4-4be2-989b-3bf34e79e854","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1312566Z","@mt":"result: {0}","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果API.Services.CouponService","ActionId":"cb96180b-01c4-4be2-989b-3bf34e79e854","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1323990Z","@mt":"memberIdClaim: {0}","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"cb96180b-01c4-4be2-989b-3bf34e79e854","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1331656Z","@mt":"{sql}","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@expired_at,@is_used)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"cb96180b-01c4-4be2-989b-3bf34e79e854","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1340331Z","@mt":"{couponId}","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","couponId":"MemberCoupon { Id = 00000000-0000-0000-0000-000000000000, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 0001/1/1 上午 12:00:00 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"cb96180b-01c4-4be2-989b-3bf34e79e854","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1365698Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingleOrDefault[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 899\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon memberCoupon)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","SourceContext":"水水水果.Controllers.CouponController","ActionId":"cb96180b-01c4-4be2-989b-3bf34e79e854","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:02.1414543Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["23.5923"],"@l":"Error","@tr":"4833b1d784f844d071044cc889cc77ec","@sp":"9b17cdaea668e4c8","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":23.5923,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29V0RA3G6:00000002","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7533976Z","@mt":"Code: {0}","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"37ea649d-4469-4099-8a0f-6ee81b1813cf","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7575846Z","@mt":"result: {0}","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果.Controllers.CouponController","ActionId":"37ea649d-4469-4099-8a0f-6ee81b1813cf","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7597836Z","@mt":"Start Register","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","SourceContext":"水水水果API.Services.CouponService","ActionId":"37ea649d-4469-4099-8a0f-6ee81b1813cf","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7626699Z","@mt":"result: {0}","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果API.Services.CouponService","ActionId":"37ea649d-4469-4099-8a0f-6ee81b1813cf","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7648713Z","@mt":"memberIdClaim: {0}","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"37ea649d-4469-4099-8a0f-6ee81b1813cf","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7658477Z","@mt":"{sql}","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@expired_at,@is_used)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"37ea649d-4469-4099-8a0f-6ee81b1813cf","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7668865Z","@mt":"{couponId}","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","couponId":"MemberCoupon { Id = e133a048-257b-477f-8740-57c421015c7c, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 0001/1/1 上午 12:00:00 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"37ea649d-4469-4099-8a0f-6ee81b1813cf","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7699074Z","@mt":"Error registering member code","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at MySql.Data.MySqlClient.MySqlConnection.AbortAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156\r\n   at Dapper.SqlMapper.QueryRowImpl[T](IDbConnection cnn, Row row, CommandDefinition& command, Type effectiveType) in /_/Dapper/SqlMapper.cs:line 1277\r\n   at Dapper.SqlMapper.QuerySingleOrDefault[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 899\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon memberCoupon)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","SourceContext":"水水水果.Controllers.CouponController","ActionId":"37ea649d-4469-4099-8a0f-6ee81b1813cf","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000003","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:16.7754499Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["25.0140"],"@l":"Error","@tr":"e403a1f6cf2889c78ae47deac3bd0176","@sp":"45181fa5877ebb65","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":25.014,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29V0RA3G6:00000003","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9231106Z","@mt":"Code: {0}","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"5979dfff-81fa-4a6c-867f-3759776a4645","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000004","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9263727Z","@mt":"result: {0}","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果.Controllers.CouponController","ActionId":"5979dfff-81fa-4a6c-867f-3759776a4645","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000004","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9273848Z","@mt":"Start Register","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","SourceContext":"水水水果API.Services.CouponService","ActionId":"5979dfff-81fa-4a6c-867f-3759776a4645","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000004","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9301970Z","@mt":"result: {0}","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果API.Services.CouponService","ActionId":"5979dfff-81fa-4a6c-867f-3759776a4645","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000004","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9311559Z","@mt":"memberIdClaim: {0}","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"5979dfff-81fa-4a6c-867f-3759776a4645","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000004","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9321389Z","@mt":"{sql}","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@expired_at,@is_used)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"5979dfff-81fa-4a6c-867f-3759776a4645","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000004","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9329942Z","@mt":"{couponId}","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","couponId":"MemberCoupon { Id = 846bbafb-ef8e-4206-b1ca-d2ea6efedbb3, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 0001/1/1 上午 12:00:00 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"5979dfff-81fa-4a6c-867f-3759776a4645","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000004","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9372731Z","@mt":"Error registering member code","@l":"Error","@x":"MySql.Data.MySqlClient.MySqlException (0x80004005): Fatal error encountered during command execution\r\n ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Parameter '@expired_at' must be defined\r\n   at MySql.Data.MySqlClient.Statement.SerializeParameterAsync(MySqlParameterCollection parameters, MySqlPacket packet, String parmName, Int32 parameterIndex, Boolean execAsync)\r\n   at MySql.Data.MySqlClient.Statement.InternalBindParametersAsync(String sql, MySqlParameterCollection parameters, MySqlPacket packet, Boolean execAsync)\r\n   at MySql.Data.MySqlClient.Statement.BindParametersAsync(Boolean execAsync)\r\n   at MySql.Data.MySqlClient.Statement.ExecuteAsync(Boolean execAsync)\r\n   at MySql.Data.MySqlClient.PreparableStatement.ExecuteAsync(Boolean execAsync)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()\r\n   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965\r\n   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656\r\n   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon memberCoupon)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","SourceContext":"水水水果.Controllers.CouponController","ActionId":"5979dfff-81fa-4a6c-867f-3759776a4645","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G6:00000004","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T16:57:36.9449816Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["24.1611"],"@l":"Error","@tr":"976180eec52de952d543fb12388af8fd","@sp":"4aead2c77124a27f","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":24.1611,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29V0RA3G6:00000004","ConnectionId":"0HNB29V0RA3G6"}
{"@t":"2025-03-13T17:00:37.2453604Z","@mt":"Code: {0}","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"7f9db346-fda0-4c95-9b61-5c66a66a871b","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:00:37.2485167Z","@mt":"result: {0}","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果.Controllers.CouponController","ActionId":"7f9db346-fda0-4c95-9b61-5c66a66a871b","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:00:37.2495841Z","@mt":"Start Register","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","SourceContext":"水水水果API.Services.CouponService","ActionId":"7f9db346-fda0-4c95-9b61-5c66a66a871b","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:00:37.2523429Z","@mt":"result: {0}","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果API.Services.CouponService","ActionId":"7f9db346-fda0-4c95-9b61-5c66a66a871b","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:00:37.2534572Z","@mt":"memberIdClaim: {0}","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"7f9db346-fda0-4c95-9b61-5c66a66a871b","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:00:37.2544637Z","@mt":"{sql}","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@ExpiredAt,@IsUsed)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"7f9db346-fda0-4c95-9b61-5c66a66a871b","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:00:37.2552423Z","@mt":"{couponId}","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","couponId":"MemberCoupon { Id = 12d5b96a-a8aa-4fb6-a0a2-ff3bfbf997e6, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 0001/1/1 上午 12:00:00 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"7f9db346-fda0-4c95-9b61-5c66a66a871b","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:00:37.2633955Z","@mt":"Error registering member code","@l":"Error","@x":"MySql.Data.MySqlClient.MySqlException (0x80004005): Field 'issued_at' doesn't have a default value\r\n   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)\r\n   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)\r\n   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)\r\n   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)\r\n   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()\r\n   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965\r\n   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656\r\n   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon memberCoupon)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","SourceContext":"水水水果.Controllers.CouponController","ActionId":"7f9db346-fda0-4c95-9b61-5c66a66a871b","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:00:37.2712045Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["28.0797"],"@l":"Error","@tr":"bee684f86b181e8d2cb4024684c601b5","@sp":"aa05c748ffe054b4","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":28.0797,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29V0RA3G8:00000001","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3311719Z","@mt":"Code: {0}","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"cb0ceaae-fd98-4206-9219-33e758b78a8a","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3344384Z","@mt":"result: {0}","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果.Controllers.CouponController","ActionId":"cb0ceaae-fd98-4206-9219-33e758b78a8a","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3357781Z","@mt":"Start Register","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","SourceContext":"水水水果API.Services.CouponService","ActionId":"cb0ceaae-fd98-4206-9219-33e758b78a8a","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3381397Z","@mt":"result: {0}","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果API.Services.CouponService","ActionId":"cb0ceaae-fd98-4206-9219-33e758b78a8a","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3393329Z","@mt":"memberIdClaim: {0}","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"cb0ceaae-fd98-4206-9219-33e758b78a8a","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3404732Z","@mt":"{sql}","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used) VALUES (@id,@couponId,@memberId,@ExpiredAt,@IsUsed)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"cb0ceaae-fd98-4206-9219-33e758b78a8a","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3413838Z","@mt":"{couponId}","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","couponId":"MemberCoupon { Id = e4494d22-c4ee-4091-af12-3390ee51740b, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 2025/3/14 上午 01:01:21 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"cb0ceaae-fd98-4206-9219-33e758b78a8a","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3457248Z","@mt":"Error registering member code","@l":"Error","@x":"MySql.Data.MySqlClient.MySqlException (0x80004005): Field 'issued_at' doesn't have a default value\r\n   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)\r\n   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)\r\n   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)\r\n   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)\r\n   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)\r\n   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()\r\n   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965\r\n   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656\r\n   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527\r\n   at 水水水果API.Repositories.CouponRepository.RegiserCoupon(MemberCoupon memberCoupon)\r\n   at 水水水果API.Services.CouponService.RegisterMemberCode(String Code, Guid id)\r\n   at 水水水果.Controllers.CouponController.MemberPost(CouponDTO couponDTO)","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","SourceContext":"水水水果.Controllers.CouponController","ActionId":"cb0ceaae-fd98-4206-9219-33e758b78a8a","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3G8:00000002","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:01:21.3537109Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["24.9508"],"@l":"Error","@tr":"076ce542e0e5602784418c41dce41b50","@sp":"00b9522407625076","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":500,"Elapsed":24.9508,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29V0RA3G8:00000002","ConnectionId":"0HNB29V0RA3G8"}
{"@t":"2025-03-13T17:03:49.5369164Z","@mt":"Code: {0}","@tr":"03e53d73f8f421f76b377859097c25d9","@sp":"e16bea6f901e8d69","0":"Annivery30th","SourceContext":"水水水果.Controllers.CouponController","ActionId":"fcc85a99-fdb5-4bdc-b6bd-f83ddec7d43d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3GA:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3GA"}
{"@t":"2025-03-13T17:03:49.5400793Z","@mt":"result: {0}","@tr":"03e53d73f8f421f76b377859097c25d9","@sp":"e16bea6f901e8d69","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果.Controllers.CouponController","ActionId":"fcc85a99-fdb5-4bdc-b6bd-f83ddec7d43d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3GA:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3GA"}
{"@t":"2025-03-13T17:03:49.5410215Z","@mt":"Start Register","@tr":"03e53d73f8f421f76b377859097c25d9","@sp":"e16bea6f901e8d69","SourceContext":"水水水果API.Services.CouponService","ActionId":"fcc85a99-fdb5-4bdc-b6bd-f83ddec7d43d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3GA:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3GA"}
{"@t":"2025-03-13T17:03:49.5439533Z","@mt":"result: {0}","@tr":"03e53d73f8f421f76b377859097c25d9","@sp":"e16bea6f901e8d69","0":"Coupon { Id = aa8051bf-8a02-472e-b9d8-c6c59e84e253, Code = Annivery30th, Name = 慶賀30, DiscountAmount = 0, ExpiriedDate = 2025/5/31 下午 11:59:59, IsActive = False }","SourceContext":"水水水果API.Services.CouponService","ActionId":"fcc85a99-fdb5-4bdc-b6bd-f83ddec7d43d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3GA:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3GA"}
{"@t":"2025-03-13T17:03:49.5450974Z","@mt":"memberIdClaim: {0}","@tr":"03e53d73f8f421f76b377859097c25d9","@sp":"e16bea6f901e8d69","0":"MemberId: a4d57082-ab25-4df5-be94-8b5f237be836","SourceContext":"水水水果API.Services.CouponService","ActionId":"fcc85a99-fdb5-4bdc-b6bd-f83ddec7d43d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3GA:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3GA"}
{"@t":"2025-03-13T17:03:49.5462362Z","@mt":"{sql}","@tr":"03e53d73f8f421f76b377859097c25d9","@sp":"e16bea6f901e8d69","sql":"INSERT INTO membercoupon (id,coupon_id,member_id,expired_at,is_used,issued_at) VALUES (@id,@couponId,@memberId,@ExpiredAt,@IsUsed,@IssuedAt)","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"fcc85a99-fdb5-4bdc-b6bd-f83ddec7d43d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3GA:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3GA"}
{"@t":"2025-03-13T17:03:49.5469842Z","@mt":"{couponId}","@tr":"03e53d73f8f421f76b377859097c25d9","@sp":"e16bea6f901e8d69","couponId":"MemberCoupon { Id = 3e58356d-9a77-4062-bd91-0782f7c3dbcc, MemberId = a4d57082-ab25-4df5-be94-8b5f237be836, CouponId = aa8051bf-8a02-472e-b9d8-c6c59e84e253, ExpiredAt = 2025/5/31 下午 11:59:59, IsUsed = True, IssuedAt = 2025/3/14 上午 01:03:49 }","SourceContext":"水水水果API.Repositories.CouponRepository","ActionId":"fcc85a99-fdb5-4bdc-b6bd-f83ddec7d43d","ActionName":"水水水果.Controllers.CouponController.MemberPost (水水水果API)","RequestId":"0HNB29V0RA3GA:00000001","RequestPath":"/api/coupon/resgister","ConnectionId":"0HNB29V0RA3GA"}
{"@t":"2025-03-13T17:03:49.5552111Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["20.7198"],"@tr":"03e53d73f8f421f76b377859097c25d9","@sp":"e16bea6f901e8d69","RequestHost":"localhost:5139","RequestScheme":"http","UserID":null,"RequestMethod":"POST","RequestPath":"/api/coupon/resgister","StatusCode":204,"Elapsed":20.7198,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNB29V0RA3GA:00000001","ConnectionId":"0HNB29V0RA3GA"}
